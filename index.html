<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>G4 Mortgage</title>
  <meta name="description" content="G4 Mortgage ‚Äî Home loans made simple. Purchase, refinance, investment.">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --primary:#0B3D91;
      --accent:#082C5C;
      --bg:#F2F6FF;
    }
    html{scroll-behavior:smooth;}
  </style>
</head>

<body class="min-h-screen bg-white font-sans text-slate-900">
  <script>
    // Constants
    const APPLY_URL = "https://181106.my1003app.com/1998387/register?time=1721681398525";
    const INQUIRY_URL = "https://181106.my1003app.com/1998387/inquiry?time=1725987208470";
    const ZILLOW_PROFILE_URL = "https://www.zillow.com/profile/Joe%20Leslie";
    const ELFSIGHT_WIDGET_DIV = '<div class="elfsight-app-c67759cc-4860-461d-a2c7-689b09adffb7" data-elfsight-app-lazy></div>';
    const ELFSIGHT_SCRIPT_SRC = "https://elfsightcdn.com/platform.js";
    const ZILLOW_RATING_AVG = 4.9;
    const ZILLOW_REVIEW_COUNT = 137;
  </script>

  <!-- Header -->
  <header class="sticky top-0 z-40 border-b border-slate-200 bg-white/90 backdrop-blur">
    <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-3">
      <a href="#home" class="flex items-center gap-2">
        <div class="grid h-9 w-9 place-items-center rounded-xl text-sm font-bold text-white" style="background:var(--primary)">G4</div>
        <div class="leading-tight">
          <div class="text-sm font-bold" style="color:var(--accent)">G4 Mortgage</div>
          <div class="text-xs text-slate-500">Home loans made simple</div>
        </div>
      </a>

      <nav class="hidden items-center gap-6 md:flex">
        <a href="#programs" class="text-sm font-semibold text-slate-700 hover:text-slate-900">Loan Programs</a>
        <a href="#va" class="text-sm font-semibold text-slate-700 hover:text-slate-900">VA Loans</a>
        <a id="navApply" href="#" class="text-sm font-semibold text-slate-700 hover:text-slate-900">Apply</a>
        <a id="navInquiry" href="#" class="text-sm font-semibold text-slate-700 hover:text-slate-900">Inquiry</a>
      </nav>

      <div class="flex items-center gap-3">
        <a id="ctaApplyTop"
           href="#"
           class="hidden items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white shadow-sm md:inline-flex"
           style="background:var(--primary)">Apply Now</a>
      </div>
    </div>
  </header>

  <!-- HOME PAGE -->
  <main id="page-home">
    <!-- Hero -->
    <section id="home" class="relative overflow-hidden" style="background:var(--bg)">
      <div class="mx-auto grid max-w-7xl items-center gap-10 px-4 py-16 md:grid-cols-2 md:py-20">
        <div>
          <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">
            49 States ¬∑ Purchase ‚Ä¢ Refi ‚Ä¢ Investment
          </span>

          <h1 class="mt-4 text-3xl font-extrabold leading-tight md:text-5xl" style="color:var(--accent)">
            Clear Guidance.<br class="hidden sm:block" /> Hands-on service.
          </h1>

          <p class="mt-4 max-w-xl text-sm text-slate-700">
            No public rate tables. Tell us your scenario and we‚Äôll build options around your goals.
          </p>

          <div class="mt-6 flex flex-wrap items-center gap-3">
            <a id="heroInquiry" href="#"
               class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white shadow-sm"
               style="background:var(--primary)">
              Start Inquiry <span aria-hidden="true">‚Üí</span>
            </a>
            <a id="heroApply" href="#"
               class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900">
              Apply Now
            </a>
          </div>

          <div class="mt-6 flex flex-wrap items-center gap-4 text-xs text-slate-600">
            <span class="inline-flex items-center gap-2">
              ‚úÖ 500+ transactions
            </span>
            <span class="inline-flex items-center gap-2">
              üè† Purchase, Refi, Cash-out
            </span>
            <span class="inline-flex items-center gap-2">
              üè¢ Primary ‚Ä¢ Second ‚Ä¢ Investment
            </span>
          </div>
        </div>

        <div>
          <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
            <div class="flex items-center gap-3">
              <div class="rounded-xl p-2" style="background:rgba(124, 58, 237, 0.12)">
                <div class="h-6 w-6 rounded" style="background:rgba(124,58,237,0.35)"></div>
              </div>
              <h3 class="text-lg font-semibold">Quick Scenario Request</h3>
            </div>
            <p class="mt-2 text-sm text-slate-700">
              Send a quick inquiry for custom options, or start the full application if you‚Äôre ready.
            </p>
            <div class="mt-4 grid grid-cols-1 gap-3">
              <a id="boxInquiry" href="#"
                 class="inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white shadow-sm"
                 style="background:var(--primary)">Start Inquiry ‚Üí</a>
              <a id="boxApply" href="#"
                 class="inline-flex items-center justify-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900">Apply Now</a>
            </div>
            <p class="mt-3 text-xs text-slate-500">
              Pricing depends on credit, LTV, property type, mortgage insurance, and more.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Programs -->
    <section id="programs" class="mx-auto max-w-7xl px-4 py-16">
      <div class="mb-4 flex items-center justify-between">
        <div>
          <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">Loan Programs</span>
          <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Options for every borrower</h2>
          <p class="mt-2 max-w-2xl text-sm text-slate-700">
            From first-time buyers to seasoned investors, we‚Äôll match the right program for your goals.
          </p>
        </div>
        <a href="#contact"
           class="hidden items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900 md:inline-flex">
          Speak with a specialist
        </a>
      </div>

      <div class="grid grid-cols-1 gap-4 md:grid-cols-3">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">Conventional 3%+ down</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ Great for strong credit</li><li>‚Ä¢ Low MI options</li><li>‚Ä¢ Fixed & ARMs</li>
          </ul>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">FHA 3.5% down</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ Flexible credit & DTI</li><li>‚Ä¢ Assumable loans</li><li>‚Ä¢ Streamline refi</li>
          </ul>
        </div>
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">VA 0% down</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ No MI</li><li>‚Ä¢ Flexible guidelines</li><li>‚Ä¢ Assumable</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Calculator (Purchase) -->
    <section id="calculator" class="mx-auto max-w-7xl px-4 py-16">
      <div class="mb-4">
        <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">Mortgage Calculator</span>
        <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Estimate a payment, then get it dialed in</h2>
        <p class="mt-2 max-w-2xl text-sm text-slate-700">
          Ballpark only‚Äîfinal numbers depend on taxes, insurance, HOA, MI, credit, and property details.
        </p>
      </div>

      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <div class="mt-2 grid grid-cols-1 gap-4 md:grid-cols-2">
          <div class="space-y-3">
            <div>
              <label class="mb-1 block text-xs font-medium text-slate-700">Home price</label>
              <div class="relative">
                <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500">$</span>
                <input id="price" type="number" class="w-full rounded-xl border border-slate-300 bg-white px-6 py-2 text-sm outline-none focus:ring-2" value="600000" min="0" />
              </div>
            </div>

            <div>
              <label class="mb-1 block text-xs font-medium text-slate-700">Down payment %</label>
              <div class="relative">
                <input id="downPct" type="number" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2" value="20" min="0" max="100" />
                <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-500">%</span>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-3">
              <div>
                <label class="mb-1 block text-xs font-medium text-slate-700">Rate %</label>
                <div class="relative">
                  <input id="rate" type="number" step="0.01" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2" value="6.5" min="0" />
                  <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-500">%</span>
                </div>
              </div>
              <div>
                <label class="mb-1 block text-xs font-medium text-slate-700">Term (years)</label>
                <input id="years" type="number" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2" value="30" min="1" />
              </div>
            </div>
          </div>

          <div class="space-y-3 rounded-2xl bg-slate-50 p-4 text-sm">
            <div class="flex items-center justify-between">
              <span class="text-slate-600">Estimated loan amount</span>
              <span id="loanAmountOut" class="font-semibold text-slate-900">$0</span>
            </div>
            <div class="flex items-center justify-between">
              <span class="text-slate-600">Est. principal &amp; interest</span>
              <span id="piOut" class="text-lg font-semibold text-slate-900">$0/mo</span>
            </div>
            <div class="mt-3 flex flex-wrap gap-2">
              <a id="calcInquiry" href="#"
                 class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-900">
                Request custom scenario ‚Üí
              </a>
              <a id="calcApply" href="#"
                 class="inline-flex items-center gap-2 rounded-xl px-3 py-2 text-xs font-semibold text-white"
                 style="background:var(--primary)">
                Start full application
              </a>
            </div>
            <p class="mt-2 text-xs text-slate-500">
              P&amp;I only. Taxes, insurance, HOA, and MI not included.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Reviews -->
    <section id="reviews" class="border-y border-slate-200" style="background:var(--bg)">
      <div class="mx-auto max-w-7xl px-4 py-16">
        <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">Reviews</span>
        <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Verified Zillow feedback</h2>

        <div class="mt-2 flex flex-wrap items-center gap-2">
          <span class="text-sm text-slate-600">
            <strong id="zillowMeta"></strong>
          </span>
          <a id="zillowLink" href="#" target="_blank" rel="noreferrer"
             class="inline-flex items-center gap-1 text-sm font-semibold text-slate-700 hover:text-slate-900">
            View on Zillow ‚Üó
          </a>
        </div>

        <p class="mt-2 max-w-2xl text-sm text-slate-700">
          Reviews below are displayed via your Elfsight widget.
        </p>

        <div id="elfsightWrap"
             class="mt-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm"
             style="min-height:200px">
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="mx-auto max-w-7xl px-4 py-16">
      <div class="grid grid-cols-1 gap-6 md:grid-cols-2">
        <div>
          <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">Get in touch</span>
          <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Talk to a loan officer</h2>
          <p class="mt-2 max-w-xl text-sm text-slate-700">
            Prefer a quick text/call? Or send an inquiry form with your scenario.
          </p>

          <div class="mt-4 space-y-2 text-sm text-slate-700">
            <div>üìû (425) 750-1731</div>
            <div>‚úâÔ∏è jleslie@barrettfinancial.com</div>
            <div>üìç 1120 Pacific Ave, Suite 205, Tacoma, WA 98402</div>
          </div>

          <div class="mt-5 flex flex-wrap gap-3">
            <a id="contactApply" href="#"
               class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white"
               style="background:var(--primary)">
              Apply Now ‚Üí
            </a>
            <a id="contactInquiry" href="#"
               class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900">
              Start Inquiry
            </a>
          </div>

          <p class="mt-4 text-xs text-slate-500">
            Not a commitment to lend. All loans subject to credit and underwriting approval.
          </p>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <form id="contactForm" class="space-y-4">
            <div class="grid grid-cols-1 gap-4 sm:grid-cols-2">
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">First name</label>
                <input name="firstName" required class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 outline-none focus:ring-2"/>
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Last name</label>
                <input name="lastName" required class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 outline-none focus:ring-2"/>
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Email</label>
                <input name="email" type="email" required class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 outline-none focus:ring-2"/>
              </div>
              <div>
                <label class="mb-1 block text-sm font-medium text-slate-700">Phone</label>
                <input name="phone" type="tel" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 outline-none focus:ring-2"/>
              </div>
            </div>
            <div>
              <label class="mb-1 block text-sm font-medium text-slate-700">How can we help?</label>
              <textarea name="message" rows="4" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 outline-none focus:ring-2"
                        placeholder="Pre-approval, purchase, refinance, self-employed, VA, FHA, DSCR, ITIN, etc."></textarea>
            </div>

            <div class="flex flex-wrap items-center gap-3">
              <button type="submit"
                      class="inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold text-white"
                      style="background:var(--primary)">
                Send Message ‚Üí
              </button>
              <a id="formApply" href="#"
                 class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-900">
                Apply Now
              </a>
            </div>

            <p class="text-xs text-slate-500">
              By submitting, you agree to be contacted by phone, text, or email. This is not a commitment to lend.
            </p>

            <div id="formThanks" class="hidden text-center">
              <h4 class="text-lg font-semibold text-slate-900">Thanks! üéâ</h4>
              <p class="mt-1 text-sm text-slate-700">We‚Äôll reach out shortly. If it‚Äôs urgent, click Apply Now for priority intake.</p>
            </div>
          </form>
        </div>
      </div>
    </section>
  </main>

  <!-- VA PAGE (same file, shown when URL hash is #va) -->
  <main id="page-va" class="hidden">
    <section class="border-b border-slate-200" style="background:var(--bg)">
      <div class="mx-auto max-w-7xl px-4 py-14">
        <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">VA Loans</span>
        <h1 class="mt-3 text-3xl font-extrabold md:text-5xl" style="color:var(--accent)">
          VA Purchase &amp; VA Refinance Options
        </h1>
        <p class="mt-3 max-w-2xl text-sm text-slate-700">
          Built for eligible veterans and service members. We‚Äôll help you choose the right VA option and handle the file end-to-end.
        </p>

        <div class="mt-6 flex flex-wrap gap-3">
          <a id="vaInquiry" href="#"
             class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white"
             style="background:var(--primary)">
            Start VA Inquiry ‚Üí
          </a>
          <a id="vaApply" href="#"
             class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900">
            Apply Now
          </a>
          <a href="#home"
             class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900"
             onclick="location.hash='home'; return false;">
            Back to Home
          </a>
        </div>
      </div>
    </section>

    <section class="mx-auto max-w-7xl px-4 py-14">
      <div class="mb-4">
        <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">VA Programs</span>
        <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Choose the right VA path</h2>
        <p class="mt-2 max-w-2xl text-sm text-slate-700">Here‚Äôs a clean breakdown of the VA options you asked for.</p>
      </div>

      <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">VA IRRRL (Streamline Refi)</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ Fast refi for existing VA loans</li>
            <li>‚Ä¢ Often reduced documentation vs full refi</li>
            <li>‚Ä¢ Designed to lower rate/payment or move to fixed</li>
          </ul>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">VA Type 1 Refinance</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ Great when you have a VA loan and need more flexibility</li>
            <li>‚Ä¢ Can be used to change term or structure</li>
            <li>‚Ä¢ Scenario-based: we‚Äôll advise best path</li>
          </ul>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">VA Type 2 Refinance</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ For more complex refinance goals</li>
            <li>‚Ä¢ Potentially cash-out / consolidation scenarios</li>
            <li>‚Ä¢ We‚Äôll map it to entitlement, value, and credit</li>
          </ul>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-slate-900">VA Purchase</h3>
          <ul class="mt-3 space-y-2 text-sm text-slate-700">
            <li>‚Ä¢ 0% down for eligible buyers</li>
            <li>‚Ä¢ No monthly mortgage insurance</li>
            <li>‚Ä¢ Strong option for primary residence purchases</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="border-y border-slate-200" style="background:var(--bg)">
      <div class="mx-auto max-w-7xl px-4 py-14">
        <div class="mb-4">
          <span class="inline-flex items-center rounded-full border border-slate-200 bg-white/70 px-3 py-1 text-xs font-semibold tracking-wide text-slate-600">VA Refinance Calculator</span>
          <h2 class="mt-3 text-2xl font-extrabold md:text-3xl" style="color:var(--accent)">Refinance estimate (default 5.625%)</h2>
          <p class="mt-2 max-w-2xl text-sm text-slate-700">Principal &amp; interest estimate for refinance (not purchase). You can edit the rate.</p>
        </div>

        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
          <div class="mt-2 grid grid-cols-1 gap-4 md:grid-cols-2">
            <div class="space-y-3">
              <div>
                <label class="mb-1 block text-xs font-medium text-slate-700">Current loan balance</label>
                <div class="relative">
                  <span class="pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-xs text-slate-500">$</span>
                  <input id="vaBalance" type="number" class="w-full rounded-xl border border-slate-300 bg-white px-6 py-2 text-sm outline-none focus:ring-2" value="420000" min="0" />
                </div>
              </div>

              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="mb-1 block text-xs font-medium text-slate-700">Rate %</label>
                  <div class="relative">
                    <input id="vaRate" type="number" step="0.001" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2" value="5.625" min="0" />
                    <span class="pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-xs text-slate-500">%</span>
                  </div>
                </div>

                <div>
                  <label class="mb-1 block text-xs font-medium text-slate-700">New term (years)</label>
                  <input id="vaYears" type="number" class="w-full rounded-xl border border-slate-300 bg-white px-3 py-2 text-sm outline-none focus:ring-2" value="30" min="1" />
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-slate-50 p-4">
                <div class="flex items-center justify-between text-sm">
                  <span class="text-slate-600">Rate used</span>
                  <span id="vaRateUsed" class="font-semibold text-slate-900">5.625%</span>
                </div>
                <p class="mt-2 text-xs text-slate-500">
                  Marketing estimate only. Final rate, payment, and APR depend on credit, loan size, equity, program, and underwriting factors.
                </p>
              </div>
            </div>

            <div class="space-y-3 rounded-2xl bg-slate-50 p-4 text-sm">
              <div class="flex items-center justify-between">
                <span class="text-slate-600">Loan amount</span>
                <span id="vaLoanOut" class="font-semibold text-slate-900">$0</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-slate-600">Est. principal &amp; interest</span>
                <span id="vaPiOut" class="text-lg font-semibold text-slate-900">$0/mo</span>
              </div>
              <div class="mt-3 flex flex-wrap gap-2">
                <a id="vaCalcInquiry" href="#"
                   class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-3 py-2 text-xs font-semibold text-slate-900">
                  Request scenario ‚Üí
                </a>
                <a id="vaCalcApply" href="#"
                   class="inline-flex items-center gap-2 rounded-xl px-3 py-2 text-xs font-semibold text-white"
                   style="background:var(--primary)">
                  Apply Now
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mx-auto max-w-7xl px-4 py-14">
      <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
        <h3 class="text-lg font-semibold text-slate-900">Ready for a VA quote?</h3>
        <p class="mt-2 text-sm text-slate-700">
          Send your scenario and we‚Äôll confirm eligibility and build the cleanest path (IRRRL vs Type 1/2 vs Purchase).
        </p>
        <div class="mt-4 flex flex-wrap gap-3">
          <a id="vaQuoteInquiry" href="#"
             class="inline-flex items-center gap-2 rounded-xl px-4 py-2 text-sm font-semibold text-white"
             style="background:var(--primary)">
            Start VA Inquiry ‚Üí
          </a>
          <a id="vaQuoteApply" href="#"
             class="inline-flex items-center gap-2 rounded-xl border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-900">
            Apply Now
          </a>
        </div>
        <p class="mt-3 text-xs text-slate-500">Not a commitment to lend. All loans subject to credit and underwriting approval.</p>
      </div>
    </section>
  </main>

  <!-- Footer (shared) -->
  <footer class="border-t border-slate-200 bg-slate-900 text-slate-200">
    <div class="mx-auto max-w-7xl px-4 py-12">
      <div class="mt-10 border-t border-slate-800 pt-6 text-xs text-slate-400">
        <div class="flex flex-col gap-2 md:flex-row md:items-center md:justify-between">
          <p>¬© <span id="year"></span> G4 Mortgage. All rights reserved.</p>
          <p>Joe Leslie ¬∑ Mortgage Loan Originator ¬∑ NMLS# 1998387 ¬∑ Equal Housing Opportunity</p>
        </div>
        <p class="mt-2">
          This is not a commitment to lend. Information is subject to change. Rates and programs may vary based on credit,
          income, property type, and other factors.
        </p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script>
    // Helpers
    function money0(x){
      try { return (x||0).toLocaleString("en-US",{maximumFractionDigits:0}); }
      catch(e){ return String(Math.round(x||0)); }
    }

    function calcMonthlyPI(loanAmount, annualRatePct, years){
      const n = Math.max(0, Math.round((Number(years)||0)*12));
      const L = Number(loanAmount)||0;
      if (!L || !n) return 0;
      const r = (Number(annualRatePct)||0)/100/12;
      if (r === 0) return L/n;
      const denom = 1 - Math.pow(1 + r, -n);
      if (denom === 0) return 0;
      return (L*r)/denom;
    }

    function setLinks(){
      const set = (id, url) => { const el = document.getElementById(id); if(el) el.href = url; };
      [
        ["navApply", APPLY_URL], ["navInquiry", INQUIRY_URL], ["ctaApplyTop", APPLY_URL],
        ["heroApply", APPLY_URL], ["heroInquiry", INQUIRY_URL],
        ["boxApply", APPLY_URL], ["boxInquiry", INQUIRY_URL],
        ["calcApply", APPLY_URL], ["calcInquiry", INQUIRY_URL],
        ["contactApply", APPLY_URL], ["contactInquiry", INQUIRY_URL],
        ["formApply", APPLY_URL],
        ["vaApply", APPLY_URL], ["vaInquiry", INQUIRY_URL],
        ["vaCalcApply", APPLY_URL], ["vaCalcInquiry", INQUIRY_URL],
        ["vaQuoteApply", APPLY_URL], ["vaQuoteInquiry", INQUIRY_URL],
      ].forEach(([id,url])=>set(id,url));

      const z = document.getElementById("zillowLink");
      if (z) z.href = ZILLOW_PROFILE_URL;

      const meta = document.getElementById("zillowMeta");
      if (meta) meta.textContent = `${ZILLOW_RATING_AVG.toFixed(1)} average ¬∑ ${ZILLOW_REVIEW_COUNT}+ reviews`;
    }

    function setYear(){
      const y = String(new Date().getFullYear());
      const el = document.getElementById("year");
      if (el) el.textContent = y;
    }

    function showPageFromHash(){
      const hash = (location.hash || "").replace("#","").toLowerCase();
      const isVA = (hash === "va");
      document.getElementById("page-home").classList.toggle("hidden", isVA);
      document.getElementById("page-va").classList.toggle("hidden", !isVA);

      // If not VA, allow normal in-page anchors
      // If VA, ensure the page is visible (done above)
    }

    function wirePurchaseCalc(){
      const price = document.getElementById("price");
      const downPct = document.getElementById("downPct");
      const rate = document.getElementById("rate");
      const years = document.getElementById("years");
      const loanOut = document.getElementById("loanAmountOut");
      const piOut = document.getElementById("piOut");
      if(!price || !downPct || !rate || !years || !loanOut || !piOut) return;

      function update(){
        const p = Number(price.value||0);
        const d = Math.min(100, Math.max(0, Number(downPct.value||0))) / 100;
        const loan = Math.max(0, p*(1-d));
        const pi = calcMonthlyPI(loan, Number(rate.value||0), Number(years.value||0));
        loanOut.textContent = "$" + money0(loan);
        piOut.textContent = "$" + money0(pi) + "/mo";
      }
      ["input","change"].forEach(evt=>{
        price.addEventListener(evt, update);
        downPct.addEventListener(evt, update);
        rate.addEventListener(evt, update);
        years.addEventListener(evt, update);
      });
      update();
    }

    function wireVACalc(){
      const bal = document.getElementById("vaBalance");
      const rate = document.getElementById("vaRate");
      const years = document.getElementById("vaYears");
      const rateUsed = document.getElementById("vaRateUsed");
      const loanOut = document.getElementById("vaLoanOut");
      const piOut = document.getElementById("vaPiOut");
      if(!bal || !rate || !years || !rateUsed || !loanOut || !piOut) return;

      function update(){
        const L = Math.max(0, Number(bal.value||0));
        const r = Math.max(0, Number(rate.value||0));
        const y = Math.max(0, Number(years.value||0));
        rateUsed.textContent = r.toFixed(3) + "%";
        loanOut.textContent = "$" + money0(L);
        const pi = calcMonthlyPI(L, r, y);
        piOut.textContent = "$" + money0(pi) + "/mo";
      }
      ["input","change"].forEach(evt=>{
        bal.addEventListener(evt, update);
        rate.addEventListener(evt, update);
        years.addEventListener(evt, update);
      });
      update();
    }

    function wireContactForm(){
      const form = document.getElementById("contactForm");
      const thanks = document.getElementById("formThanks");
      if(!form || !thanks) return;

      form.addEventListener("submit", function(e){
        e.preventDefault();
        thanks.classList.remove("hidden");
        thanks.scrollIntoView({behavior:"smooth", block:"center"});
      });
    }

    function initElfsight(){
      const wrap = document.getElementById("elfsightWrap");
      if (wrap) wrap.innerHTML = ELFSIGHT_WIDGET_DIV;

      // Load script if not present
      if (!document.querySelector(`script[src="${ELFSIGHT_SCRIPT_SRC}"]`)){
        const s = document.createElement("script");
        s.src = ELFSIGHT_SCRIPT_SRC;
        s.async = true;
        document.body.appendChild(s);
      }

      // Try init if platform exists
      let tries = 0;
      const t = setInterval(() => {
        tries += 1;
        const platform = window.ElfsightPlatform;
        if (platform && typeof platform.init === "function") {
          try { platform.init(); } catch(e) {}
          clearInterval(t);
        }
        if (tries > 40) clearInterval(t);
      }, 250);
    }

    // Tests (browser-safe)
    (function runSanityTests(){
      try{
        const a = calcMonthlyPI(300000,6,30);
        const b = calcMonthlyPI(300000,0,30);
        console.assert(Number.isFinite(a) && a>0, "PI positive");
        console.assert(Math.abs(b-833.3333)<2, "0% is loan/n");
        console.assert(calcMonthlyPI(0,6,30)===0, "0 loan => 0");
        console.assert(calcMonthlyPI(100000,6,0)===0, "0 years => 0");
      }catch(e){}
    })();

    // Boot
    setLinks();
    setYear();
    showPageFromHash();
    wirePurchaseCalc();
    wireVACalc();
    wireContactForm();
    initElfsight();

    window.addEventListener("hashchange", showPageFromHash);
  </script>
</body>
</html>
